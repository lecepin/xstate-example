(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{173:function(e,t,s){},251:function(e,t,s){},252:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(30),a=s.n(r),c=s(137),o=s(264),i=s(163);Object(i.a)({routes:function(){var e=this;this.namespace="api",this.post("/submit",(function(e,t){return console.log(t.requestBody),Math.random()<.5?{success:!1,errorMsg:"\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}:{success:!0}}),{timing:1e3}),this.passthrough((function(t){return-1==t.url.indexOf(e.namespace)}))}});var l=s(158),u=s(262),g=s(261),d=s(259),h=s(258),j=s(263),b=s(265),p=s(260),m=s(256),x=s(257),f=s(60),O=s(116),v=s(38),C=Object(O.a)({id:"\u53cd\u9988\u5efa\u8bae",initial:"\u4e0d\u663e\u793a",context:{score:0,selectModule:[],suggest:"",errorMsg:""},states:{"\u4e0d\u663e\u793a":{onEntry:"doInitContext",on:{"\u6253\u5f00":{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a"}}},"\u663e\u793a":{initial:"\u6b65\u9aa4\u8bb0\u5f55",states:{"\u6b65\u9aa4\u8bb0\u5f55":{initial:"\u8bc4\u5206",states:{"\u8bc4\u5206":{onExit:"doClearErrorMsg",on:{"\u503c\u6539\u53d8":{actions:"doScoreChange"},"\u4e0b\u4e00\u6b65":[{cond:"isLess",target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd.\u4e0d\u6ee1\u610f"},{cond:"isMore",target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd.\u6ee1\u610f"},{cond:"isEqual",target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u5efa\u8bae"},{actions:"doNoScore"}]}},"\u5173\u6ce8\u529f\u80fd":{on:{"\u4e0a\u4e00\u6b65":{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u8bc4\u5206"},"\u4e0b\u4e00\u6b65":{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u5efa\u8bae"},"\u503c\u6539\u53d8":{actions:"doSelectChange"}},states:{"\u4e0d\u6ee1\u610f":{},"\u6ee1\u610f":{}}},"\u4e0a\u4e2a\u6b65\u9aa4":{type:"history",history:"deep"}}},"\u5efa\u8bae":{onExit:"doClearErrorMsg",on:{"\u4e0a\u4e00\u6b65":{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u4e0a\u4e2a\u6b65\u9aa4"},"\u63d0\u4ea4":{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u63d0\u4ea4\u4e2d"},"\u503c\u6539\u53d8":{actions:"doSuggestChange"}}},"\u63d0\u4ea4\u4e2d":{invoke:{id:"serviceSubmit",src:"serviceSubmit",onDone:{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u7ed3\u675f"},onError:{target:"#\u53cd\u9988\u5efa\u8bae.\u663e\u793a.\u5efa\u8bae",actions:"doSubmitFail"}}},"\u7ed3\u675f":{after:{2e3:{target:"#\u53cd\u9988\u5efa\u8bae.\u4e0d\u663e\u793a"}}}},on:{"\u5173\u95ed":{target:"#\u53cd\u9988\u5efa\u8bae.\u4e0d\u663e\u793a"}}}}},{guards:{isLess:function(e){return e.score<3&&e.score>0},isMore:function(e){return e.score>3},isEqual:function(e){return 3==e.score}},actions:{doScoreChange:v.a.assign({score:function(e,t){return t.value}}),doSelectChange:v.a.assign({selectModule:function(e,t){return t.value}}),doSuggestChange:v.a.assign({suggest:function(e,t){return t.value}}),doNoScore:v.a.assign({errorMsg:"\u8bf7\u5b8c\u6210\u6b64\u9879\u8bc4\u4ef7"}),doSubmitFail:v.a.assign({errorMsg:function(e,t){return t.data}}),doClearErrorMsg:v.a.assign({errorMsg:""}),doInitContext:v.a.assign({score:0,selectModule:[],suggest:"",errorMsg:""})},services:{serviceSubmit:function(e){var t=e.score,s=e.selectModule,n=e.suggest;return fetch("/api/submit",{method:"POST",body:JSON.stringify({score:t,selectModule:s,suggest:n})}).then((function(e){return e.json()})).then((function(e){if(!e.success)return Promise.reject(e.errorMsg)}))}}}),M=(s(173),s(19));function y(){var e=Object(u.a)(C,{devTools:!0}),t=Object(l.a)(e,2),s=t[0],n=t[1],r=s.context,a=r.score,c=r.errorMsg,o=r.selectModule,i=r.suggest;return Object(M.jsxs)("div",{className:"App",children:[s.matches("\u4e0d\u663e\u793a")?Object(M.jsx)(g.a,{className:"App-feedback-btn",size:50,onClick:function(){return n("\u6253\u5f00")},children:"\u53cd\u9988"}):null,Object(M.jsxs)(d.a,{visible:s.matches("\u663e\u793a"),title:"\u53cd\u9988\u4e0e\u5efa\u8bae",footer:!1,onCancel:function(){return n("\u5173\u95ed")},mask:!1,className:"App-feedback-modal",wrapClassName:"App-feedback-modal-wrap",children:[s.matches("\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u8bc4\u5206")?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(h.a.Paragraph,{children:"\u4f60\u5bf9\u6b64\u7cfb\u7edf\u662f\u5426\u6ee1\u610f\uff1f"}),Object(M.jsx)(h.a.Text,{type:"secondary",children:"\u4e0d\u6ee1\u610f"}),Object(M.jsx)(j.a,{value:a,onChange:function(e){return n("\u503c\u6539\u53d8",{value:e})}}),Object(M.jsx)(h.a.Text,{type:"secondary",children:"\u5341\u5206\u6ee1\u610f"})]}):null,s.matches("\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd.\u4e0d\u6ee1\u610f")?Object(M.jsx)(h.a.Paragraph,{children:"\u4f60\u6700\u4e0d\u6ee1\u610f\u7684\u6709\u54ea\u4e9b\u529f\u80fd\uff1f"}):null,s.matches("\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd.\u6ee1\u610f")?Object(M.jsx)(h.a.Paragraph,{children:"\u4f60\u6700\u6ee1\u610f\u7684\u6709\u54ea\u4e9b\u529f\u80fd\uff1f"}):null,s.matches("\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd")?Object(M.jsx)(b.a.Group,{value:o,options:[{label:"\u529f\u80fdA",value:"A"},{label:"\u529f\u80fdB",value:"B"},{label:"\u529f\u80fdC",value:"C"},{label:"\u529f\u80fdD",value:"D"},{label:"\u529f\u80fdE",value:"E"}],onChange:function(e){return n("\u503c\u6539\u53d8",{value:e})}}):null,s.matches("\u663e\u793a.\u5efa\u8bae")?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(h.a.Paragraph,{children:"\u60a8\u662f\u5426\u6709\u5176\u4ed6\u5efa\u8bae\uff1f"}),Object(M.jsx)(p.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165",value:i,onChange:function(e){return n("\u503c\u6539\u53d8",{value:e.target.value})}})]}):null,s.matches("\u663e\u793a.\u63d0\u4ea4\u4e2d")?Object(M.jsx)("div",{className:"App-center",children:Object(M.jsx)(m.a,{size:"large",tip:"\u63d0\u4ea4\u4e2d\u2026"})}):null,s.matches("\u663e\u793a.\u7ed3\u675f")?Object(M.jsxs)("div",{className:"App-center",children:[Object(M.jsx)("img",{src:"./bixin.png"}),Object(M.jsxs)(h.a.Paragraph,{type:"secondary",children:["\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff0c2\u79d2\u540e\u81ea\u52a8\u5173\u95ed\u7a97\u53e3"," "]})]}):null,c?Object(M.jsx)(h.a.Paragraph,{type:"danger",children:c}):null,Object(M.jsx)(x.a,{}),Object(M.jsxs)("div",{className:"App-feedback-modal-footer",children:[["\u663e\u793a.\u5efa\u8bae","\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55.\u5173\u6ce8\u529f\u80fd"].some(s.matches)?Object(M.jsx)(f.a,{style:{marginRight:12},onClick:function(){return n("\u4e0a\u4e00\u6b65")},children:"\u4e0a\u4e00\u6b65"}):null,s.matches("\u663e\u793a.\u6b65\u9aa4\u8bb0\u5f55")?Object(M.jsx)(f.a,{onClick:function(){return n("\u4e0b\u4e00\u6b65")},children:"\u4e0b\u4e00\u6b65"}):null,s.matches("\u663e\u793a.\u5efa\u8bae")?Object(M.jsx)(f.a,{type:"primary",onClick:function(){return n("\u63d0\u4ea4")},children:"\u63d0\u4ea4"}):null]})]})]})}s(251);Object(o.a)({iframe:document.getElementById("xstate-inspect"),url:"https://apis.leping.fun/viz?inspect&panel=false"}),Object(c.a)(["#xstate-inspect","#root"],{minSize:0,sizes:[50,50]}),a.a.render(Object(M.jsx)(n.StrictMode,{children:Object(M.jsx)(y,{})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.df9c854e.chunk.js.map